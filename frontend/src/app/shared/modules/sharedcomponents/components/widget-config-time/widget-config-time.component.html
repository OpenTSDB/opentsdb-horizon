<form [formGroup]="widgetConfigTime">
    <div class="column">
        <div class="config-control downsample-controls">
            <label class="label">Downsample</label>
            <div class="form-field-group">
                <mat-radio-group formControlName="downsample">
                    <mat-radio-button *ngFor="let downsample of timeDownsampleOptions" [value]="downsample.value" name="selectedDownsample">{{ downsample.label }}</mat-radio-button>
                    <div class="custom-downsample">
                        <mat-radio-button [value]="'custom'" name="selectedDownsample">Custom</mat-radio-button>
                        <mat-form-field appearance="fill">
                            <input matInput  formControlName="customDownsampleValue">
                        </mat-form-field>
                        <mat-button-toggle-group formControlName="customDownsampleUnit">
                            <mat-button-toggle value="s" name="customDownsampleUnit">Secs</mat-button-toggle>
                            <mat-button-toggle value="m" name="customDownsampleUnit">Min</mat-button-toggle>
                            <mat-button-toggle value="h" name="customDownsampleUnit">Hrs</mat-button-toggle>
                        </mat-button-toggle-group>
                        <div *ngIf="widgetConfigTime.controls.customDownsampleValue.errors">
                            <div *ngIf="widgetConfigTime.controls.customDownsampleValue.errors.required">Should not be empty.</div>
                            <div *ngIf="widgetConfigTime.controls.customDownsampleValue.errors.pattern">Must be an integer.</div>
                            <div *ngIf="widgetConfigTime.controls.customDownsampleValue.errors.min">Should be >= {{widgetConfigTime.controls.customDownsampleValue.errors.min.min}} </div>
                        </div>
                    </div>
                </mat-radio-group>
                <!-- just to see if it changed ok
                    <span style="color: red;">{{ this.widgetConfigTime.get('selectedDownsample').value }}</span> -->
            </div> 
        </div>
        <div class="config-control aggregator-controls">
            <label class="label">Aggregator</label>
            <div class="form-field-group mat-select">
                    <mat-select [value]="selectedAggregators[0]" *ngIf="!multipleAggregators" (selectionChange)="setAggregator($event)" disableOptionCentering="true">
                        <mat-option *ngFor="let aggregator of timeAggregatorOptions" [value]="aggregator.value">{{ aggregator.label }}</mat-option>
                    </mat-select>
                <!---
                    <mat-select [value]="selectedAggregators" *ngIf="multipleAggregators" multiple (selectionChange)="setAggregator($event)">
                        <mat-option *ngFor="let aggregator of timeAggregatorOptions" [value]="aggregator.value">{{ aggregator.label }}</mat-option>
                    </mat-select>
                
                <mat-checkbox formControlName="multiple">Mutiple</mat-checkbox>-->
            </div> 
        </div>
        
    </div>
    <div class="column">
        <div class="config-control min-interval-controls">
            <label class="label">Minimum Interval</label>
            <div class="form-field-group">
                <mat-form-field appearance="fill">
                    <input matInput placeholder="5m" formControlName="minInterval">
                </mat-form-field>
            </div>
        </div>
        <div class="config-control reporting-interval-controls">
            <label class="label">Reporting Interval</label>
            <div class="form-field-group">
                <mat-form-field appearance="fill">
                    <input matInput placeholder="10s" formControlName="reportingInterval">
                </mat-form-field>
            </div>
        </div>
        <!--<div class="config-control override-relative-time-controls">
            <label class="label">Overide Relative Time</label>
            <div class="form-field-group">
                <mat-form-field appearance="fill">
                    <input matInput placeholder="Last: 1hr" formControlName="overrideRelativeTime">
                </mat-form-field>
            </div>
        </div>
        <div class="config-control time-shift-controls">
            <label class="label">Add time Shift</label>
            <div class="form-field-group">
                <mat-form-field appearance="fill">
                    <input matInput placeholder="Last: 1hr" formControlName="shiftTime">
                </mat-form-field>
            </div>
        </div>-->
    </div>
</form>
